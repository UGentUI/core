import{k as T}from"./lit-element-CPYlYYac.js";import{L as g}from"./chunk.WLV3FVBR-BTBv_Sfe.js";import{c as o,n as u,S as y,t as x}from"./chunk.NLWS5DN7-C0h9DzRV.js";import{r as f}from"./state-LdesfBTP.js";var w=[{max:276e4,value:6e4,unit:"minute"},{max:72e6,value:36e5,unit:"hour"},{max:5184e5,value:864e5,unit:"day"},{max:24192e5,value:6048e5,unit:"week"},{max:28512e6,value:2592e6,unit:"month"},{max:1/0,value:31536e6,unit:"year"}],n=class extends y{constructor(){super(...arguments),this.localize=new g(this),this.isoTime="",this.relativeTime="",this.date=new Date,this.format="long",this.numeric="auto",this.sync=!1}disconnectedCallback(){super.disconnectedCallback(),clearTimeout(this.updateTimeout)}render(){const s=new Date,t=new Date(this.date);if(isNaN(t.getMilliseconds()))return this.relativeTime="",this.isoTime="","";const i=t.getTime()-s.getTime(),{unit:a,value:r}=w.find(e=>Math.abs(i)<e.max);if(this.isoTime=t.toISOString(),this.relativeTime=this.localize.relativeTime(Math.round(i/r),a,{numeric:this.numeric,style:this.format}),clearTimeout(this.updateTimeout),this.sync){let e;a==="minute"?e=m("second"):a==="hour"?e=m("minute"):a==="day"?e=m("hour"):e=m("day"),this.updateTimeout=window.setTimeout(()=>this.requestUpdate(),e)}return T` <time datetime=${this.isoTime} title=${this.relativeTime}>${this.relativeTime}</time> `}};o([f()],n.prototype,"isoTime",2);o([f()],n.prototype,"relativeTime",2);o([u()],n.prototype,"date",2);o([u()],n.prototype,"format",2);o([u()],n.prototype,"numeric",2);o([u({type:Boolean})],n.prototype,"sync",2);function m(s){const i={second:1e3,minute:6e4,hour:36e5,day:864e5}[s];return i-Date.now()%i}var _=Object.defineProperty,b=Object.getOwnPropertyDescriptor,C=(s,t,i,a)=>{for(var r=a>1?void 0:a?b(t,i):t,e=s.length-1,c;e>=0;e--)(c=s[e])&&(r=(a?c(t,i,r):c(r))||r);return a&&r&&_(t,i,r),r};let p=class extends n{};p=C([x("ug-relative-time")],p);const U={title:"Components/RelativeTime",component:"ug-relative-time"},l={render:s=>T`<ug-relative-time
      date="2020-07-15T09:17:00-04:00"
    ></ug-relative-time>`};var v,d,h;l.parameters={...l.parameters,docs:{...(v=l.parameters)==null?void 0:v.docs,source:{originalSource:`{
  render: args => {
    return html\`<ug-relative-time
      date="2020-07-15T09:17:00-04:00"
    ></ug-relative-time>\`;
  }
}`,...(h=(d=l.parameters)==null?void 0:d.docs)==null?void 0:h.source}}};const P=["RelativeTime"];export{l as RelativeTime,P as __namedExportsOrder,U as default};
